<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SniperBet ‚Äî Jogos do Dia</title>
  <style>
    body {
      background: linear-gradient(to bottom, #111, #222);
      color: #fff;
      font-family: Arial, sans-serif;
      padding: 2rem;
    }
    h1 {
      color: #00ff99;
      text-align: center;
    }
    .game {
      background: #1a1a1a;
      padding: 1rem;
      margin: 1rem 0;
      border-radius: 12px;
    }
    .teams {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-weight: bold;
    }
    .teams img {
      height: 25px;
      margin: 0 10px;
    }
    .time {
      font-size: 0.95rem;
      color: #ccc;
      margin-top: 0.4rem;
    }
    .stats, .last-matches, .odds, .recommendation {
      margin-top: 1rem;
      font-size: 0.9rem;
    }
    .recommendation {
      font-weight: bold;
      color: #00ff99;
    }
    .advanced {
      background: #111;
      margin-top: 1rem;
      padding: 0.8rem;
      border-radius: 10px;
      border-left: 4px solid #00ff99;
    }
  </style>
</head>
<body>
  <h1>‚öΩ SniperBet ‚Äî Jogos do Dia</h1>
  <div id="games"></div>

  <script>
    async function fetchGames() {
      const res = await fetch('/games');
      const games = await res.json();
      const container = document.getElementById('games');

      if (!games.length) {
        container.innerHTML = '<p>Nenhum jogo dispon√≠vel.</p>';
        return;
      }

      games.forEach(game => {
        const el = document.createElement('div');
        el.className = 'game';

        el.innerHTML = `
          <div class="teams">
            <span><img src="${game.homeLogo}" /> ${game.homeTeam}</span>
            <span>VS</span>
            <span>${game.awayTeam} <img src="${game.awayLogo}" /></span>
          </div>
          <div class="time">üïí ${game.time}</div>

          <div class="stats">
            <div><strong>${game.homeTeam}</strong> - M√©dias (√∫ltimos 5 jogos):</div>
            <ul>
              <li>Gols feitos: ${game.stats.home.goalsFor}</li>
              <li>Gols sofridos: ${game.stats.home.goalsAgainst}</li>
              <li>Chutes: ${game.stats.home.shots}</li>
              <li>Chutes ao gol: ${game.stats.home.shotsOn}</li>
              <li>Escanteios: ${game.stats.home.corners}</li>
              <li>Cart√µes: ${game.stats.home.cards}</li>
            </ul>

            <div><strong>${game.awayTeam}</strong> - M√©dias (√∫ltimos 5 jogos):</div>
            <ul>
              <li>Gols feitos: ${game.stats.away.goalsFor}</li>
              <li>Gols sofridos: ${game.stats.away.goalsAgainst}</li>
              <li>Chutes: ${game.stats.away.shots}</li>
              <li>Chutes ao gol: ${game.stats.away.shotsOn}</li>
              <li>Escanteios: ${game.stats.away.corners}</li>
              <li>Cart√µes: ${game.stats.away.cards}</li>
            </ul>
          </div>

          <div class="last-matches">
            <strong>√öltimos 5 jogos de ${game.homeTeam}:</strong>
            <ul>
              ${game.last5Matches.home.map(m => `<li>${m.date} ‚Äî ${m.homeTeam} ${m.homeGoals} x ${m.awayGoals} ${m.awayTeam} (${m.venue})</li>`).join('')}
            </ul>
            <strong>√öltimos 5 jogos de ${game.awayTeam}:</strong>
            <ul>
              ${game.last5Matches.away.map(m => `<li>${m.date} ‚Äî ${m.homeTeam} ${m.homeGoals} x ${m.awayGoals} ${m.awayTeam} (${m.venue})</li>`).join('')}
            </ul>
          </div>

          <div class="odds">
            <strong>Odds:</strong>
            <ul>
              <li>Vit√≥ria ${game.homeTeam}: ${game.odds.home ?? '-'}</li>
              <li>Empate: ${game.odds.draw ?? '-'}</li>
              <li>Vit√≥ria ${game.awayTeam}: ${game.odds.away ?? '-'}</li>
              <li>Over 2.5: ${game.odds.over25 ?? '-'}</li>
              <li>Ambas Marcam: ${game.odds.btts ?? '-'}</li>
            </ul>
          </div>

          <div class="recommendation">üîé ${game.recommendation}</div>

          <div class="advanced">
            <strong>Probabilidades Avan√ßadas:</strong><br />
            ${game.prediction ? `
              <div>${game.prediction.advice}</div>
              <div>üè† ${game.homeTeam}: ${game.prediction.win_percent.home}%</div>
              <div>ü§ù Empate: ${game.prediction.win_percent.draw}%</div>
              <div>üè≥Ô∏è ${game.awayTeam}: ${game.prediction.win_percent.away}%</div>
            ` : `<div>Sem dados dispon√≠veis.</div>`}
          </div>
        `;

        container.appendChild(el);
      });
    }

    fetchGames();
  </script>
</body>
</html>
